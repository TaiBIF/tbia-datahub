"""update dataset field

Revision ID: 577587ceaa54
Revises: d4c6b4d0751e
Create Date: 2024-03-22 05:02:26.573177

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = '577587ceaa54'
down_revision: Union[str, None] = 'd4c6b4d0751e'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('dataset', sa.Column('datasetTaxonGroup', sa.String(length=10000), nullable=True))
    op.add_column('dataset', sa.Column('resourceContacts', sa.String(length=10000), nullable=True))
    op.add_column('dataset', sa.Column('sourceDatasetID', sa.String(length=10000), nullable=True))
    op.add_column('dataset', sa.Column('gbifDatasetID', sa.String(length=10000), nullable=True))
    op.add_column('dataset', sa.Column('tbiaDatasetID', sa.String(length=10000), nullable=True))
    op.add_column('dataset', sa.Column('dateCoverage', sa.String(length=10000), nullable=True))
    op.add_column('dataset', sa.Column('occurrenceCount', sa.Integer(), server_default='0', nullable=True))
    op.add_column('dataset', sa.Column('datasetAuthor', sa.String(length=10000), nullable=True))
    op.add_column('dataset', sa.Column('datasetURL', sa.String(length=10000), nullable=True))
    op.add_column('dataset', sa.Column('datasetLicense', sa.String(length=10000), nullable=True))
    op.add_column('dataset', sa.Column('created', sa.DateTime(timezone=True), nullable=True))
    op.add_column('dataset', sa.Column('modified', sa.DateTime(timezone=True), nullable=True))
    op.drop_index('ix_dataset_source_datasetID', table_name='dataset')
    op.create_index(op.f('ix_dataset_gbifDatasetID'), 'dataset', ['gbifDatasetID'], unique=False)
    op.create_index(op.f('ix_dataset_sourceDatasetID'), 'dataset', ['sourceDatasetID'], unique=False)
    op.create_index(op.f('ix_dataset_tbiaDatasetID'), 'dataset', ['tbiaDatasetID'], unique=False)
    op.drop_column('dataset', 'source_datasetID')
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('dataset', sa.Column('source_datasetID', sa.VARCHAR(length=10000), autoincrement=False, nullable=True))
    op.drop_index(op.f('ix_dataset_tbiaDatasetID'), table_name='dataset')
    op.drop_index(op.f('ix_dataset_sourceDatasetID'), table_name='dataset')
    op.drop_index(op.f('ix_dataset_gbifDatasetID'), table_name='dataset')
    op.create_index('ix_dataset_source_datasetID', 'dataset', ['source_datasetID'], unique=False)
    op.drop_column('dataset', 'modified')
    op.drop_column('dataset', 'created')
    op.drop_column('dataset', 'datasetLicense')
    op.drop_column('dataset', 'datasetURL')
    op.drop_column('dataset', 'datasetAuthor')
    op.drop_column('dataset', 'occurrenceCount')
    op.drop_column('dataset', 'dateCoverage')
    op.drop_column('dataset', 'tbiaDatasetID')
    op.drop_column('dataset', 'gbifDatasetID')
    op.drop_column('dataset', 'sourceDatasetID')
    op.drop_column('dataset', 'resourceContacts')
    op.drop_column('dataset', 'datasetTaxonGroup')
    # ### end Alembic commands ###
